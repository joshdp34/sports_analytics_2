<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>STA 3311 Sports Analytics II - 8&nbsp; Web Scraping with Rvest</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./09_ML.html" rel="next">
<link href="./07_Data.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><link rel="stylesheet" href="webex.css">
</head>
<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./08_Web.html"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Web Scraping with Rvest</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./"></a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01_Intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Intro to Data Manipulation with <code>dplyr</code></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_Stringr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">String, Dates, and Joins</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_Tidymodels.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Introduction to Tidymodels</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04_Regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Linear Regression with Regularization</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05_Logistic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Logistic Regression with Regularization</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06_Mixed.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Mixed Effects Models</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07_Data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Obtaining Sport Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08_Web.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Web Scraping with Rvest</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09_ML.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Introduction to Machine Learning</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10_Random.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Random Forests</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11_Spatial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Visualization of Player Tracking Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12_knn.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">K-Nearest Neighbors</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./13_clustering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Clustering</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./14_dimension.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Dimensionality Reduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./15_SVM.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Support Vector Machines</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./16_DBSCAN.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">DBSCAN</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./17_MLP.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Multi-Layer Perceptron</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./18_Fitting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Fitting and Overfitting</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./19_Rankings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Intro to Rankings</span></span></a>
  </div>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#introduction-to-web-scraping" id="toc-introduction-to-web-scraping" class="nav-link active" data-scroll-target="#introduction-to-web-scraping"><span class="header-section-number">8.1</span> Introduction to Web Scraping</a></li>
  <li><a href="#why-use-rvest" id="toc-why-use-rvest" class="nav-link" data-scroll-target="#why-use-rvest"><span class="header-section-number">8.2</span> Why Use Rvest?</a></li>
  <li><a href="#ethical-considerations" id="toc-ethical-considerations" class="nav-link" data-scroll-target="#ethical-considerations"><span class="header-section-number">8.3</span> Ethical Considerations</a></li>
  <li><a href="#data-reliability" id="toc-data-reliability" class="nav-link" data-scroll-target="#data-reliability"><span class="header-section-number">8.4</span> Data Reliability</a></li>
  <li><a href="#basic-concepts-of-html" id="toc-basic-concepts-of-html" class="nav-link" data-scroll-target="#basic-concepts-of-html"><span class="header-section-number">8.5</span> Basic Concepts of HTML</a></li>
  <li>
<a href="#using-rvest-a-step-by-step-guide" id="toc-using-rvest-a-step-by-step-guide" class="nav-link" data-scroll-target="#using-rvest-a-step-by-step-guide"><span class="header-section-number">8.6</span> Using Rvest: A Step-by-Step Guide</a>
  <ul class="collapse">
<li><a href="#step-1-load-the-package" id="toc-step-1-load-the-package" class="nav-link" data-scroll-target="#step-1-load-the-package"><span class="header-section-number">8.6.1</span> Step 1: Load the Package</a></li>
  <li><a href="#step-2-fetch-the-web-page" id="toc-step-2-fetch-the-web-page" class="nav-link" data-scroll-target="#step-2-fetch-the-web-page"><span class="header-section-number">8.6.2</span> Step 2: Fetch the Web Page</a></li>
  <li><a href="#step-3-select-elements" id="toc-step-3-select-elements" class="nav-link" data-scroll-target="#step-3-select-elements"><span class="header-section-number">8.6.3</span> Step 3: Select Elements</a></li>
  <li><a href="#step-4-extract-data" id="toc-step-4-extract-data" class="nav-link" data-scroll-target="#step-4-extract-data"><span class="header-section-number">8.6.4</span> Step 4: Extract Data</a></li>
  <li><a href="#step-5-clean-the-data" id="toc-step-5-clean-the-data" class="nav-link" data-scroll-target="#step-5-clean-the-data"><span class="header-section-number">8.6.5</span> Step 5: Clean the Data</a></li>
  </ul>
</li>
  <li>
<a href="#example-scraping-hockey-data" id="toc-example-scraping-hockey-data" class="nav-link" data-scroll-target="#example-scraping-hockey-data"><span class="header-section-number">8.7</span> Example: Scraping Hockey Data</a>
  <ul class="collapse">
<li><a href="#inspect-the-page" id="toc-inspect-the-page" class="nav-link" data-scroll-target="#inspect-the-page"><span class="header-section-number">8.7.1</span> Inspect the Page</a></li>
  <li><a href="#scrape-and-clean-the-data" id="toc-scrape-and-clean-the-data" class="nav-link" data-scroll-target="#scrape-and-clean-the-data"><span class="header-section-number">8.7.2</span> Scrape and Clean the Data</a></li>
  <li><a href="#verify-the-result" id="toc-verify-the-result" class="nav-link" data-scroll-target="#verify-the-result"><span class="header-section-number">8.7.3</span> Verify the Result</a></li>
  </ul>
</li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title">
<span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Web Scraping with Rvest</span>
</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header><blockquote class="blockquote">
<p>“You’re playing worse everyday and right now you’re playing like it’s next month.” - Herb Brooks (Coach of the 1980 U.S. Olympic Hokey team.)</p>
</blockquote>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="pics/miracle.png" class="img-fluid figure-img" width="200"></p>
<figcaption class="figure-caption">The 1980 U.S. Olympic Hockey team defeats the heavy favorite Soviet Union in the semifinal game on February 22, 1980. Known as the “Miracle on Ice,” the win propels the U.S. to the gold medal.</figcaption></figure>
</div>
<p>In sports analytics, data is often not available in a neat, downloadable format but is instead embedded within web pages across the internet. Web scraping provides a method to extract this data directly from websites, enabling analysts to gather information such as player statistics, game outcomes, or rankings. This section introduces web scraping using the <code>rvest</code> package in R, a tool within the tidyverse ecosystem that aligns with the data manipulation and modeling techniques covered in previous sections (e.g., “Data Handling” and “Tidymodels”).</p>
<p>We will explore the fundamentals of web scraping, address ethical considerations and data reliability, and demonstrate the process with examples from hockey and tennis websites.</p>
<section id="introduction-to-web-scraping" class="level2" data-number="8.1"><h2 data-number="8.1" class="anchored" data-anchor-id="introduction-to-web-scraping">
<span class="header-section-number">8.1</span> Introduction to Web Scraping</h2>
<p>Web scraping is the automated process of retrieving data from websites by fetching their HTML content and extracting specific pieces of information. In the context of sports analytics, web scraping is particularly valuable because much of the data—such as detailed player performance metrics or historical game records—is presented on web pages rather than in structured databases or APIs. The process involves two main steps: (1) accessing the web page’s HTML code and (2) parsing that code to isolate the desired data, such as tables, text, or lists.</p>
<p>The <code>rvest</code> package simplifies this process by providing functions to read HTML, select elements, and convert the extracted data into R data frames, which can then be manipulated using tidyverse tools. For example, a sports analyst might scrape a table of hockey player statistics from a website and use it to fit a regression model, building on skills from the “Regression” and “Tidymodels” sections.</p>
</section><section id="why-use-rvest" class="level2" data-number="8.2"><h2 data-number="8.2" class="anchored" data-anchor-id="why-use-rvest">
<span class="header-section-number">8.2</span> Why Use Rvest?</h2>
<p>The <code>rvest</code> package is an ideal choice for this course because it integrates seamlessly with the tidyverse framework you’ve already encountered. Functions like <code><a href="http://xml2.r-lib.org/reference/read_xml.html">read_html()</a></code> and <code><a href="https://rvest.tidyverse.org/reference/html_table.html">html_table()</a></code> work naturally with the pipe operator (<code>|&gt;</code>), allowing scraped data to flow directly into <code>dplyr</code> operations for cleaning and analysis. This consistency reduces the learning curve and leverages your existing knowledge of data handling and modeling in R.</p>
</section><section id="ethical-considerations" class="level2" data-number="8.3"><h2 data-number="8.3" class="anchored" data-anchor-id="ethical-considerations">
<span class="header-section-number">8.3</span> Ethical Considerations</h2>
<p>Web scraping, while powerful, raises important ethical issues that must be addressed to ensure responsible use. Consider the following principles:</p>
<ul>
<li><p><strong>Website Terms of Service</strong>: Many websites specify in their terms of service whether scraping is permitted. Before scraping, review these terms or the site’s <code>robots.txt</code> file (e.g., <code>http://example.com/robots.txt</code>), which outlines allowable access by automated tools. Violating these terms could have legal implications.</p></li>
<li><p><strong>Server Impact</strong>: Sending numerous requests to a website in a short time can strain its server, potentially disrupting service for other users. To avoid this, limit the frequency of requests—introduce delays if scraping multiple pages—and test your code on small samples first.</p></li>
<li><p><strong>Data Privacy</strong>: Ensure that the data you scrape does not include personal or sensitive information (e.g., email addresses or birth dates) without explicit consent. In sports analytics, this is rarely an issue with public statistics, but it’s a critical consideration in broader contexts.</p></li>
</ul>
<p>Ethical scraping respects the website’s resources and policies, ensuring that your data collection does not harm the source or its users.</p>
</section><section id="data-reliability" class="level2" data-number="8.4"><h2 data-number="8.4" class="anchored" data-anchor-id="data-reliability">
<span class="header-section-number">8.4</span> Data Reliability</h2>
<p>Data scraped from websites may not always be as reliable as data from curated datasets. Key concerns include:</p>
<ul>
<li><p><strong>Timeliness</strong>: Web content changes frequently. A table of player statistics scraped today might be outdated tomorrow if the website updates its records.</p></li>
<li><p><strong>Accuracy</strong>: Websites may contain errors, such as typos in player names or incorrect numerical entries, which can affect subsequent analyses.</p></li>
<li><p><strong>Consistency</strong>: Data presentation may vary across pages or over time, complicating efforts to combine scraped datasets.</p></li>
</ul>
<p>To mitigate these issues, verify scraped data against alternative sources when feasible (e.g., official league records) and document the date of scraping for reference. Cleaning and validation steps, using techniques from the “Data Handling” section, are essential to prepare the data for reliable statistical modeling.</p>
</section><section id="basic-concepts-of-html" class="level2" data-number="8.5"><h2 data-number="8.5" class="anchored" data-anchor-id="basic-concepts-of-html">
<span class="header-section-number">8.5</span> Basic Concepts of HTML</h2>
<p>Web scraping requires a rudimentary understanding of HTML (HyperText Markup Language), the structure behind web pages. HTML organizes content into <strong>elements</strong>, defined by <strong>tags</strong> enclosed in angle brackets, such as <code>&lt;p&gt;</code> for paragraphs or <code>&lt;table&gt;</code> for tables. Tags often come in pairs, with an opening tag (e.g., <code>&lt;div&gt;</code>) and a closing tag (e.g., <code>&lt;/div&gt;</code>), containing the content between them.</p>
<p>Elements can have <strong>attributes</strong>, such as <code>id</code> or <code>class</code>, which uniquely identify or categorize them. For example:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode html code-with-copy"><code class="sourceCode html"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;table</span> <span class="er">id</span><span class="ot">=</span><span class="st">"stats"</span><span class="kw">&gt;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;tr&gt;&lt;td&gt;</span>Player<span class="kw">&lt;/td&gt;&lt;td&gt;</span>Goals<span class="kw">&lt;/td&gt;&lt;/tr&gt;</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;tr&gt;&lt;td&gt;</span>Wayne Gretzky<span class="kw">&lt;/td&gt;&lt;td&gt;</span>894<span class="kw">&lt;/td&gt;&lt;/tr&gt;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/table&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Here, the <code>&lt;table&gt;</code> element has an <code>id</code> attribute <code>"stats"</code>, and nested <code>&lt;tr&gt;</code> (table row) and <code>&lt;td&gt;</code> (table data) tags define its structure. The hierarchical nature of HTML—elements nested within elements—allows <code>rvest</code> to target specific data using these tags and attributes.</p>
</section><section id="using-rvest-a-step-by-step-guide" class="level2" data-number="8.6"><h2 data-number="8.6" class="anchored" data-anchor-id="using-rvest-a-step-by-step-guide">
<span class="header-section-number">8.6</span> Using Rvest: A Step-by-Step Guide</h2>
<p>Let’s outline the process of web scraping with <code>rvest</code>, which we’ll apply in the examples below.</p>
<section id="step-1-load-the-package" class="level3" data-number="8.6.1"><h3 data-number="8.6.1" class="anchored" data-anchor-id="step-1-load-the-package">
<span class="header-section-number">8.6.1</span> Step 1: Load the Package</h3>
<p>Begin by loading <code>rvest</code>, assuming it’s installed.</p>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://rvest.tidyverse.org/">rvest</a></span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="step-2-fetch-the-web-page" class="level3" data-number="8.6.2"><h3 data-number="8.6.2" class="anchored" data-anchor-id="step-2-fetch-the-web-page">
<span class="header-section-number">8.6.2</span> Step 2: Fetch the Web Page</h3>
<p>Use <code><a href="http://xml2.r-lib.org/reference/read_xml.html">read_html()</a></code> to retrieve the HTML content of a web page, specified by its URL:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">url</span> <span class="op">=</span> <span class="st">"http://example.com"</span></span>
<span><span class="va">page</span> <span class="op">=</span> <span class="fu"><a href="http://xml2.r-lib.org/reference/read_xml.html">read_html</a></span><span class="op">(</span><span class="va">url</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This creates an object containing the page’s HTML structure.</p>
</section><section id="step-3-select-elements" class="level3" data-number="8.6.3"><h3 data-number="8.6.3" class="anchored" data-anchor-id="step-3-select-elements">
<span class="header-section-number">8.6.3</span> Step 3: Select Elements</h3>
<p>Identify the HTML elements containing your data using <strong>CSS selectors</strong>, which reference tags, classes (prefixed with <code>.</code>), or IDs (prefixed with <code>#</code>). For instance, <code>.player</code> selects elements with <code>class="player"</code>, and <code>#stats</code> targets an element with <code>id="stats"</code>. The function <code><a href="https://rvest.tidyverse.org/reference/rename.html">html_nodes()</a></code> retrieves all matching elements, while <code><a href="https://rvest.tidyverse.org/reference/rename.html">html_node()</a></code> selects the first:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">elements</span> <span class="op">=</span> <span class="va">page</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rvest.tidyverse.org/reference/rename.html">html_nodes</a></span><span class="op">(</span><span class="st">".player"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Tools like SelectorGadget (a browser extension) can assist in finding selectors by highlighting elements on the page.</p>
</section><section id="step-4-extract-data" class="level3" data-number="8.6.4"><h3 data-number="8.6.4" class="anchored" data-anchor-id="step-4-extract-data">
<span class="header-section-number">8.6.4</span> Step 4: Extract Data</h3>
<p>Extract content from selected elements. Use <code><a href="https://rvest.tidyverse.org/reference/html_text.html">html_text()</a></code> for text within elements or <code><a href="https://rvest.tidyverse.org/reference/html_table.html">html_table()</a></code> for tables, which returns a data frame:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">text_data</span> <span class="op">=</span> <span class="va">elements</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rvest.tidyverse.org/reference/html_text.html">html_text</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">table_data</span> <span class="op">=</span> <span class="va">page</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rvest.tidyverse.org/reference/rename.html">html_node</a></span><span class="op">(</span><span class="st">"table"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rvest.tidyverse.org/reference/html_table.html">html_table</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section><section id="step-5-clean-the-data" class="level3" data-number="8.6.5"><h3 data-number="8.6.5" class="anchored" data-anchor-id="step-5-clean-the-data">
<span class="header-section-number">8.6.5</span> Step 5: Clean the Data</h3>
<p>Raw scraped data often requires cleaning. Apply <code>dplyr</code> functions (from the “Data Handling” section) to refine it:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span></span>
<span><span class="va">clean_data</span> <span class="op">=</span> <span class="va">table_data</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">janitor</span><span class="fu">::</span><span class="fu"><a href="https://sfirke.github.io/janitor/reference/clean_names.html">clean_names</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span>  <span class="co"># Standardize column names</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/row_number.html">row_number</a></span><span class="op">(</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">1</span><span class="op">)</span>    <span class="co"># Remove header rows if repeated</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <code>janitor</code> package, often used with tidyverse, simplifies name standardization.</p>
</section></section><section id="example-scraping-hockey-data" class="level2" data-number="8.7"><h2 data-number="8.7" class="anchored" data-anchor-id="example-scraping-hockey-data">
<span class="header-section-number">8.7</span> Example: Scraping Hockey Data</h2>
<p>Consider scraping NHL player statistics from Hockey-Reference.com, a publicly accessible site with detailed sports data. We’ll target the 2023 skaters table at <a href="https://www.hockey-reference.com/leagues/NHL_2023_skaters.html">https://www.hockey-reference.com/leagues/NHL_2023_skaters.html</a>.</p>
<section id="inspect-the-page" class="level3" data-number="8.7.1"><h3 data-number="8.7.1" class="anchored" data-anchor-id="inspect-the-page">
<span class="header-section-number">8.7.1</span> Inspect the Page</h3>
<p>Using your browser’s developer tools (right-click &gt; “Inspect”), examine the page source. The skaters table has an <code>id="player_stats"</code>. This is our target.</p>
</section><section id="scrape-and-clean-the-data" class="level3" data-number="8.7.2"><h3 data-number="8.7.2" class="anchored" data-anchor-id="scrape-and-clean-the-data">
<span class="header-section-number">8.7.2</span> Scrape and Clean the Data</h3>
<p>Here’s the complete code:</p>
<div class="cell">
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/sfirke/janitor">janitor</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Specify the URL</span></span>
<span><span class="va">url</span> <span class="op">=</span> <span class="st">"https://www.hockey-reference.com/leagues/NHL_2023_skaters.html"</span></span>
<span><span class="va">page</span> <span class="op">=</span> <span class="fu"><a href="http://xml2.r-lib.org/reference/read_xml.html">read_html</a></span><span class="op">(</span><span class="va">url</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Extract the table</span></span>
<span><span class="va">table</span> <span class="op">=</span> <span class="va">page</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rvest.tidyverse.org/reference/rename.html">html_node</a></span><span class="op">(</span><span class="st">"#player_stats"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rvest.tidyverse.org/reference/html_table.html">html_table</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Clean the data</span></span>
<span><span class="va">clean_data</span> <span class="op">=</span> <span class="va">table</span> <span class="op">|&gt;</span> </span>
<span>  <span class="co">#the first row is actually the row names</span></span>
<span>  <span class="fu"><a href="https://sfirke.github.io/janitor/reference/row_to_names.html">row_to_names</a></span><span class="op">(</span>row_number <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">|&gt;</span>  </span>
<span>  <span class="co"># Convert column names to lowercase, remove spaces</span></span>
<span>  <span class="fu"><a href="https://sfirke.github.io/janitor/reference/clean_names.html">clean_names</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>   <span class="co"># Select columns: goals (g), assists (a), points (pts)</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">player</span>, <span class="va">g</span>, <span class="va">a</span>, <span class="va">pts</span><span class="op">)</span>         </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="verify-the-result" class="level3" data-number="8.7.3"><h3 data-number="8.7.3" class="anchored" data-anchor-id="verify-the-result">
<span class="header-section-number">8.7.3</span> Verify the Result</h3>
<p>The <code>clean_data</code> object is a data frame with columns like <code>player</code>, <code>g</code> (goals), <code>a</code> (assists), and <code>pts</code> (points), ready for analysis—perhaps a regression model predicting points from goals and assists, using techniques from the “Regression” section.</p>
<p><em>Ethical Note</em>: Hockey-Reference.com allows limited scraping for personal use, per its terms, but always confirm current policies before extensive scraping.</p>


</section></section></main><!-- /main --><script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  var t = document.getElementsByClassName("webex-total_correct");
  for (var i = 0; i < t.length; i++) {
    p = t[i].parentElement;
    var correct = p.getElementsByClassName("webex-correct").length;
    var solvemes = p.getElementsByClassName("webex-solveme").length;
    var radiogroups = p.getElementsByClassName("webex-radiogroup").length;
    var selects = p.getElementsByClassName("webex-select").length;

    t[i].innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");

  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* check answers */
check_func = function() {
  console.log("webex: check answers");

  var cl = this.parentElement.classList;
  if (cl.contains('unchecked')) {
    cl.remove("unchecked");
    this.innerHTML = "Hide Answers";
  } else {
    cl.add("unchecked");
    this.innerHTML = "Show Answers";
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");

  var cl = this.classList

  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;

  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }

  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

window.onload = function() {
  console.log("webex onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  var check_sections = document.getElementsByClassName("webex-check");
  console.log("check:", check_sections.length);
  for (var i = 0; i < check_sections.length; i++) {
    check_sections[i].classList.add("unchecked");

    let btn = document.createElement("button");
    btn.innerHTML = "Show Answers";
    btn.classList.add("webex-check-button");
    btn.onclick = check_func;
    check_sections[i].appendChild(btn);

    let spn = document.createElement("span");
    spn.classList.add("webex-total_correct");
    check_sections[i].appendChild(spn);
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;

    solveme[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }

  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
    selects[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  update_total_correct();
}

</script><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./07_Data.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Obtaining Sport Data</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./09_ML.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Introduction to Machine Learning</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">STA 3311</div>
  </div>
</footer>


</body></html>